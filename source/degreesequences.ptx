<section xml:id="sec-degreesequences">
    <title>Degree Sequences</title>

    <p>
        We have seen that the degrees of the vertices play several key roles for graphs.
        This leads us to the following definition and theorem.
    </p>

    <definition xml:id="def-degreesequence">
        <statement>
            <p>
                Given a finite graph <m>G</m>, the <em>degree sequence</em> of <m>G</m> is the sequence of vertex degrees of <m>G</m> written in non-increasing order.
                If a sequence <m>\mathbf{d}=(d_1,d_2,\ldots,d_n)</m> with <m>d_1 \geq d_2 \geq \cdots \geq d_n</m> is the degree sequence of a graph, then we say <m>\mathbf{d}</m> is a <em>graphic sequence</em>.
                Note that there might be more than one graph with the same graphic sequence.
            </p>
        </statement>
    </definition>
    <example>
        <p>
            The degree sequence of the following graph is <m>(7, 6, 6, 5, 5, 4, 3, 3, 3, 2)</m>.

        </p>
        <figure xml:id="fig-degree_sequence">
    <caption>Example for graph degree sequence</caption>
    <image source="degreesequencegraph.png" width="75%"/>
</figure>
    </example>
    
    <exercise>
        <p>
            For each of the following degree sequences, create a graph having that degree sequence.
            <ol>
                <li>
                    <p>
                        <m>(2,2,2,2,2)</m>
                    </p>
                </li>
                <li>
                    <p>
                        <m>(5,2,2,1,1,1,1,1)</m>
                    </p>
                </li>
                <li>
                    <p>
                        <m>(6,3,3,3,3,3,3)</m>
                    </p>
                </li>
            </ol>
        </p>
    </exercise>

    <p>
        The main question we will ask about degree sequences is: which non-increasing lists of integers are graphic?
    </p>

    <p>
        We will start by investigating a special class of graphs called <em>threshold graphs</em>.
    </p>

    <definition xml:id="def-thresholdgraph">
        <statement>
            <p>
                Consider the following two operations on a finite graph <m>G</m>:
                <ul>
                    <li>
                        <p>
                            <em>Isolated addition (I):</em> add a new vertex of degree zero to <m>G</m>, i.e., add an isolated vertex.
                        </p>
                    </li>
                    <li>
                        <p>
                            <em>Suspension (S):</em> add a new vertex that is connected by an edge to every vertex of <m>G</m>; the resulting graph is called the suspension of <m>G</m>.
                        </p>
                    </li>
                </ul>
                A <em>threshold graph</em> is a graph obtained by starting with a single vertex and applying any sequence of isolated additions and suspensions.
            </p>
        </statement>
    </definition>

    <exercise>
        <p>
            For each of the following sequences (read from left to right) of isolated additions and suspensions, find the resulting threshold graph and calculate its degree sequence.
            Remember to <em>start with a single vertex before you apply these operations!</em>
            <ol>
                <li>
                    <p>
                        SSSSSS
                    </p>
                </li>
                <li>
                    <p>
                        IIISIIIS (i.e., add three isolated vertices to the first isolated vertex, followed by a suspension, followed by adding three more isolated vertices, followed by another suspension)
                    </p>
                </li>
                <li>
                    <p>
                        SISISIS
                    </p>
                </li>
                <li>
                    <p>
                        SSSIISISS
                    </p>
                </li>
            </ol>
        </p>
    </exercise>

    <exercise>
        <p>
            For a threshold graph with <m>n</m> vertices with degree sequence <m>(d_1,d_2,\ldots,d_n)</m>, explain why 
            <me>
                d_1 = \sum_{j=2}^n\min(1,d_j) \, .
            </me>
        </p>
    </exercise>
    <exercise>
        <p>
            For a threshold graph with <m>n</m> vertices with degree sequence <m>(d_1,d_2,\ldots,d_n)</m>, explain why 
            <me>
                d_1 + d_2 = 2 + \sum_{j=3}^n\min(2,d_j) \, .
            </me>
            Hint: If <m>v_1</m> has degree <m>d_1</m> and <m>v_2</m> has degree <m>d_2</m>, what can you say about the neighbors of <m>v_1</m> compared to the neighbors of <m>v_2</m>?
        </p>
    </exercise>

    <p>
        These observations lead us to the following property of threshold graphs.
    </p>

    <theorem xml:id="thm-thresholdcharacterization">
        <statement>
            <p>
                If <m>G</m> is a threshold graph on <m>n</m> vertices with degree sequence <m>(d_1,d_2,\ldots,d_n)</m>, then for every <m>1\leq k \leq n</m> we have
                    <me>
                        \sum_{i=1}^k d_i = k(k-1) + \sum_{j=k+1}^n \min(k,d_j) \, .
                    </me>
            </p>
        </statement>
    </theorem>

    <exercise>
        <p>
            Write out each of these equalities for <m>n=6</m>.
        </p>
    </exercise>

    <p>
        We start with the following lemma.
        We write <m>N_G(v)</m> or <m>N(v)</m> to denote the set of vertices in <m>G</m> that are adjacent to <m>v</m>, i.e., connected to <m>v</m> by an edge.
        This set is called the <em>neighbors</em> of <m>v</m>.
    </p>

    <lemma xml:id="lem-thresholdnesting">
        <statement>
            <p>
                Relabel the vertex set of a threshold graph <m>G</m> as <m>\{v_1,\ldots,v_n\}</m> such that <m>d_i=\deg(v_i)</m>. With this labeling, if <m>i\lt j</m>, we have 
                <me>
                    N(v_j)\setminus \{v_i\} \subseteq  N(v_i)\setminus \{v_j\} \, . 
                </me>
            </p>
        </statement>
    </lemma>

    <proof>
        <p>
            We prove this by induction on the number of vertices in <m>G</m>.
            If there are one or two vertices, then this is true since the sets under consideration are empty.
            Now, suppose that <m>G'</m> is a threshold graph on <m>n</m> vertices for which the lemma holds. 
            When we add a vertex to <m>G'</m>, resulting in a graph <m>G</m> with one more vertex, then this can either happen through an isolated vertex or suspension move.
            If an isolated vertex is added, then none of the neighborhoods of the vertices change, and the new vertex (having degree zero) is labeled as <m>v_{n+1}</m>.
            If a suspension vertex is added, then the new vertex has degree <m>n</m> and is labeled <m>v_1</m>, while all other vertices have their degrees increased by one and hence their labels are each increased by one.
            Since <m>v_1</m> is added to the neighborhood of every existing vertex, then for any <m>1\lt i\lt j</m> the containment of neighborhoods still holds.
            If <m>i=1</m>, then since <m>N(v_1)=\{v_2,\ldots,v_{n+1}\}</m>, subset containment also holds for <m>1=i\lt j</m>.
        </p>
    </proof>

    <proof>
        <title>Proof of <xref ref="thm-thresholdcharacterization"/></title>
        <p>
            To prove that a threshold graph <m>G</m> on <m>n</m> vertices satisfies 
            <me>
                \sum_{i=1}^k d_i = k(k-1) + \sum_{j=k+1}^n \min(k,d_j)
            </me>
            for every <m>1\leq k\leq n</m>, we will count the quantity <m>\sum_{i=1}^k d_i</m> in two ways.
            
        </p>
    </proof>

    <p>
        What is remarkable about threshold graphs is that they are the most extreme you can get with regard to these relationships among the degree sequence.
        Specifically, the following theorem due to Erdős and Gallai characterizes graphical degree sequences.
    </p>

    <theorem xml:id="thm-erdosgallai">
        <title>Erdős-Gallai theorem</title>
        <statement>
            <p>
                A sequence of non-negative integers <m>(d_1,d_2,\ldots,d_n)</m> is graphic if and only if <m>d_1+d_2+\cdots + d_n</m> is even and for every <m>1\leq k \leq n</m> we have
                <me>
                        \sum_{i=1}^k d_i \leq k(k-1) + \sum_{j=k+1}^n \min(k,d_j) \, .
                    </me>
            </p>
        </statement>
    </theorem>

<exercise>
        <p>
            For each of the following degree sequences, verify that the Erdős-Gallai conditions hold.
            <ol>
                <li>
                    <p>
                        <m>(2,2,2,2,2)</m>
                    </p>
                </li>
                <li>
                    <p>
                        <m>(5,2,2,1,1,1,1,1)</m>
                    </p>
                </li>
                <li>
                    <p>
                        <m>(6,3,3,3,3,3,3)</m>
                    </p>
                </li>
            </ol>
        </p>
    </exercise>

    <proof>
        <p>
            
        </p>
    </proof>
    
    <!--
        <p>
            Let's return to the following graph again, which has degree sequence
            <me>
                (7, 6, 6, 5, 5, 4, 3, 3, 3, 2) \, .
            </me>
            What would be ideal would be if we removed the vertex of degree <m>7</m> and what was left was a graph with degree sequence
            <me>
                (5, 5, 4, 4, 3, 3, 2, 2, 2) \, .
            </me>
            Note that this is what would happen if the vertex of degree <m>7</m> was connected to the highest-degree other vertices.
        </p>
            <figure xml:id="fig-degree_sequence2">
    <caption>Degree sequence <m>(7, 6, 6, 5, 5, 4, 3, 3, 3, 2)</m></caption>
    <image source="degreesequencegraph.png" width="75%"/>
</figure>
        <p>
            However, <em>there is a problem</em>: the vertex of degree <m>7</m>, which is labeled vertex 7, is connected to a vertex of degree two.
            So, for this particular graph, removing the vertex of highest degree does not cause the degree sequence to decrease in such a nice manner.
            What is remarkable is that for every graphic degree sequence, there exists a graph where this strategy does work.
        </p>
-->


</section>